{% extends "admin/base_site.html" %}
{% load static %}

{% block page_nav %}{% endblock %}

{% block content %}
    <div id="error-page" class="container-fluid">
        <h2>Whoops!  500, Server Error</h2>
        <h3>The page you requested has a bug!</h3>
        {% if error_type %}
            <div class="row">
                <h4 class="alert alert-danger col-md-6 col-md-offset-3">{% if error_type %}{{ error_type }}: {% endif %}{{ error_value }}</h4>
            </div>
        {% endif %}

        <div class="row">
            <h4>The IPAM team has been notified of this and will be addressing the problem soon.</h4>
            <h4>To offset your anger and fustration, we have provided you with a LOLCat.</h4>
            {% if email %}
                <h4>You can also contact an <a href="mailto:{{ email }}">IPAM admin</a> if you need further consoling.</h4>
            {% endif %}
            <img class="cat" src="{% static 'core/img/error_cats/' %}{{ kitty }}" alt="Lolcats" />
        </div>
    </div>
    {% if request.sentry.id %}
         <!-- Sentry JS SDK 2.1.+ required -->
        <script src="https://cdn.ravenjs.com/2.1.0/raven.min.js" type="text/javascript"></script>
        <script>
            Raven.showReportDialog({
                // grab the eventId generated by the Sentry SDK
                eventId: '{{ request.sentry.id }}',

                // use the public DSN (dont include your secret!)
                dsn: 'https://847c9fa40b254ff9b5098ed7eef34ad8@newsentry.usu.edu/2'
            });
        </script>
    {% endif %}
{% endblock %}